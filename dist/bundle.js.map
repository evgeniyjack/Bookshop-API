{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://web/./src/assets/js/modules/slider.js","webpack://web/./src/assets/js/modules/basket.js","webpack://web/./src/assets/js/modules/generate.js","webpack://web/./src/assets/js/http/data.js","webpack://web/./src/assets/js/modules/addToBasket.js","webpack://web/./src/assets/js/modules/books.js","webpack://web/./src/assets/js/index.js","webpack://web/./src/assets/js/modules/updateBooks.js","webpack://web/./src/assets/js/modules/changeCategory.js"],"sourcesContent":["const slider = (sliderSelector, sliderElementSelector, dotsSelector) => {\r\n    const slider = document.querySelector(sliderSelector);\r\n    const sliderElements = document.querySelectorAll(sliderElementSelector);\r\n    const dotsContainer = document.querySelector(dotsSelector);\r\n    const sliderElementWidth = sliderElements[0].clientWidth;\r\n\r\n    let slideIndex = -1;\r\n\r\n    const createDot = () => {\r\n        const dot = document.createElement('button');\r\n        dotsContainer.appendChild(dot);\r\n        return dot;\r\n    };\r\n\r\n    const updateDots = () => {\r\n        const dots = Array.from(dotsContainer.children);\r\n        dots.forEach((dot, index) => {\r\n            dot.classList.toggle('active', index === slideIndex);\r\n        });\r\n    };\r\n\r\n    const slide = () => {\r\n        slideIndex = (slideIndex + 1) % sliderElements.length;\r\n        const translateX = -slideIndex * sliderElementWidth;\r\n        slider.style.transform = `translateX(${translateX}px)`;\r\n        updateDots();\r\n    };\r\n\r\n    sliderElements.forEach(() => createDot());\r\n\r\n    dotsContainer.addEventListener('click', (event) => {\r\n        const dot = event.target.closest('button');\r\n        if (dot) {\r\n            slideIndex = Array.from(dotsContainer.children).indexOf(dot) - 1;\r\n            slide();\r\n        }\r\n    });\r\n\r\n    slide();\r\n    setInterval(slide, 5000);\r\n};\r\n\r\nexport default slider;\r\n","const basket = (basketScoreItemSelector, btnsSelector) => {\r\n    const basketData = JSON.parse(localStorage.getItem('basket'));\r\n    const basketScoreItem = document.querySelector(basketScoreItemSelector); \r\n    const btns = document.querySelectorAll(btnsSelector);\r\n\r\n    if (basketData && basketData.length > 0) {\r\n        basketScoreItem.style.display = 'flex';\r\n        basketScoreItem.textContent = basketData.length;\r\n    }else{\r\n        basketScoreItem.style.display = 'none';\r\n    }\r\n\r\n    btns.forEach(btn => {\r\n        const id = btn.getAttribute('data-id');\r\n        const index = basketData ? basketData.findIndex(item => item.id === id) : -1;\r\n        \r\n        if (index !== -1) {\r\n            btn.classList.add('in-basket');\r\n            btn.textContent = 'in the cart';\r\n        }else{\r\n            btn.classList.remove('in-basket');\r\n            btn.textContent = 'buy now';\r\n        }\r\n    })\r\n}\r\n\r\nexport default basket;","import Book from \"./books\"\r\nimport getData from \"../http/data\";\r\nimport addToBasket from \"./addToBasket\";\r\nimport basket from \"./basket\";\r\n\r\nconst generate = (param, startIndex, max, renderContainerSelector, update) => {\r\n    const loader = document.createElement('div');\r\n\r\n    if (!update) {\r\n        loader.classList.add('loader');\r\n        loader.innerHTML = '<div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div>';\r\n        document.querySelector(renderContainerSelector).append(loader);\r\n    }else{\r\n        update.setAttribute('disabled', '');\r\n    }\r\n\r\n    getData(param, startIndex, max)\r\n        .then((data) => {\r\n            data.forEach(item => {\r\n                const book = new Book(item);\r\n                book.render(renderContainerSelector);\r\n            })\r\n\r\n            addToBasket('.btn.buy', '.header-buttons .basket span');\r\n            basket('nav .header-buttons .basket span', '.btn.buy');\r\n\r\n            loader.remove();\r\n            update && update.removeAttribute('disabled', '');\r\n        })\r\n}\r\n\r\nexport default generate;","const getData = async (param, startIndex, max) => {\r\n    const _apiKey = 'AIzaSyDcH4tKiz9Bqx8dWuyn5poNh9BqX1x4Llo';\r\n    const _url = `https://www.googleapis.com/books/v1/volumes?q=subject:${param}&key=${_apiKey}&printType=books&startIndex=${startIndex}&maxResults=${max}&langRestrict=en`;\r\n    \r\n    try {\r\n        const response = await fetch(_url);\r\n        const data = await response.json();\r\n\r\n        console.log(data);\r\n\r\n        return data.items.map(item => {\r\n            const volumeInfo = item.volumeInfo;\r\n            const saleInfo = item.saleInfo;\r\n\r\n            return {\r\n                title: volumeInfo.title || 'No Title',\r\n                writer: volumeInfo.authors || [],\r\n                image: volumeInfo.imageLinks ? volumeInfo.imageLinks.thumbnail : 'assets/img/book.png',\r\n                about: volumeInfo.description || 'no info',\r\n                score: volumeInfo.ratingsCount || null,\r\n                stars: volumeInfo.averageRating || null,\r\n                price: saleInfo && saleInfo.retailPrice ? saleInfo.retailPrice.amount : null,\r\n                currency: saleInfo && saleInfo.retailPrice ? saleInfo.retailPrice.currencyCode : null,\r\n                id: item.id \r\n            };\r\n        });\r\n    } catch (error) {\r\n        console.error('Error:', error);\r\n        return [];\r\n    }\r\n};\r\n\r\nexport default getData;","import basket from \"./basket\";\r\n\r\nconst addToBasket = (btnsSelector, basketScoreItemSelector) => {\r\n    const btnsBuy = document.querySelectorAll(btnsSelector);\r\n\r\n    btnsBuy.forEach(btn => {\r\n        btn.addEventListener('click', () => {\r\n            const id = btn.getAttribute('data-id');\r\n            let basketData = JSON.parse(localStorage.getItem('basket')) || [];\r\n            \r\n            const existingItemIndex = basketData.findIndex(item => item.id === id);\r\n            \r\n            if (existingItemIndex !== -1) {\r\n                basketData.splice(existingItemIndex, 1);\r\n            } else {\r\n                basketData.push({ id });\r\n            }\r\n            \r\n            localStorage.setItem('basket', JSON.stringify(basketData));\r\n            basket(basketScoreItemSelector, btnsSelector);\r\n        });\r\n    });\r\n};\r\n\r\nexport default addToBasket;\r\n","class Book {\r\n    constructor({writer, title, score, stars, about, price, image, id, currency}) {\r\n        this.writer = writer;\r\n        this.title = title;\r\n        this.score = score;\r\n        this.stars = stars;\r\n        this.about = about;\r\n        this.price = price;\r\n        this.image = image;\r\n        this.id = id;\r\n        this.currency = currency;\r\n    }\r\n\r\n    render(blockRenderSelector) {\r\n        const generateStars = (starsLength) => {\r\n            let stars = '';\r\n\r\n            for (let i = 0; i < 5; i++) {\r\n                if (i < starsLength) {\r\n                    stars += '<span class=\"yellow\"><img src=\"assets/img/star.svg\" alt=\"star icon\"></span>'; \r\n                } else {\r\n                    stars += '<span><img src=\"assets/img/star.svg\" alt=\"star icon\"></span>'; \r\n                }\r\n            }\r\n            \r\n            return stars;\r\n        }\r\n\r\n        const generateWrites = (writers) => {\r\n            let writersText = '';\r\n            writers.forEach((item, i) => {\r\n                if (i === writers.length - 1) {\r\n                    writersText += item;\r\n                }else{\r\n                    writersText += item + ', ';\r\n                }\r\n            })\r\n\r\n            return writersText;\r\n        }\r\n\r\n        const html = `\r\n            <div class=\"book-image\"><img src=\"${this.image}\" alt=\"book image\"></div>\r\n            <div class=\"book-data\">\r\n                <div class=\"writer\">${generateWrites(this.writer)}</div>\r\n                <div class=\"title\">${this.title}</div>\r\n                <div class=\"score\">\r\n                    ${\r\n                        this.stars ? `<div class=\"stars-container\">\r\n                        ${generateStars(this.stars)}\r\n                    </div>` : ''\r\n                    }\r\n                    ${this.score ? `<span class=\"reviews\">${this.score} review</span>` : ''}\r\n                </div> <!-- Закройте тег div правильно здесь -->\r\n                <p>${this.about}</p>\r\n                ${this.price ? `<div class=\"price\">${this.currency} ${this.price}</div>` : ''}\r\n                <button class=\"btn buy\" data-id=\"${this.id}\">buy now</button>\r\n            </div>\r\n        `;\r\n\r\n        const element = document.createElement('div');\r\n        element.classList.add('item');\r\n        element.innerHTML = html;\r\n\r\n        document.querySelector(blockRenderSelector).append(element);\r\n    }\r\n}\r\n\r\nexport default Book;","import '../css/style.scss';\r\n\r\nimport slider from './modules/slider';\r\nimport changeCategory from './modules/changeCategory';\r\nimport update from './modules/updateBooks';\r\nimport basket from './modules/basket';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    slider('.sliders__container', '.sliders__container a', '.slider .dots');\r\n    update('aside ul li.active button', '.card-container', '.show-more', 6);\r\n    changeCategory('aside ul li button', '.card-container');\r\n})","import generate from \"./generate\";\r\n\r\nconst update = (activeCategorySelector, renderContainerSelector, btnLoadSelector, shownBooks) => {\r\n    const btnLoad = document.querySelector(btnLoadSelector);\r\n\r\n    const loadMore = () => {\r\n        const activeCategory = document.querySelector(activeCategorySelector).getAttribute('data-param');\r\n        const currentIndex = document.querySelector(renderContainerSelector).children.length;\r\n\r\n        console.log(currentIndex); console.log(activeCategory);\r\n        generate(activeCategory, currentIndex, currentIndex + shownBooks, renderContainerSelector, btnLoad);\r\n    }\r\n\r\n    btnLoad.addEventListener('click', loadMore);\r\n}\r\n\r\nexport default update;","import generate from \"./generate\";\r\n\r\nconst changeCategory = (btnsSelector, renderContainerSelector) => {\r\n    const btns = document.querySelectorAll(btnsSelector);\r\n\r\n    generate('Architecture', 0, 6, renderContainerSelector);  \r\n\r\n    btns.forEach(btn => {\r\n        btn.addEventListener('click', () => {\r\n            const renderContainer = document.querySelector(renderContainerSelector);\r\n            const category = btn.getAttribute('data-param');\r\n\r\n            btns.forEach(item => item.parentNode.classList.remove('active'));\r\n            btn.parentNode.classList.add('active');\r\n\r\n            Array.from(renderContainer.children).forEach(item => item.remove());\r\n\r\n            generate(category, 0, 6, renderContainerSelector);  \r\n        });\r\n    });\r\n};\r\n\r\nexport default changeCategory;\r\n"],"names":["basket","basketScoreItemSelector","btnsSelector","basketData","JSON","parse","localStorage","getItem","basketScoreItem","document","querySelector","btns","querySelectorAll","length","style","display","textContent","forEach","btn","id","getAttribute","findIndex","item","classList","add","remove","generate","param","startIndex","max","renderContainerSelector","update","loader","createElement","setAttribute","innerHTML","append","async","_url","response","fetch","data","json","console","log","items","map","volumeInfo","saleInfo","title","writer","authors","image","imageLinks","thumbnail","about","description","score","ratingsCount","stars","averageRating","price","retailPrice","amount","currency","currencyCode","error","getData","then","addToBasket","constructor","_ref","this","render","blockRenderSelector","html","writers","writersText","i","generateWrites","starsLength","generateStars","element","addEventListener","existingItemIndex","splice","push","setItem","stringify","removeAttribute","slider","sliderSelector","sliderElementSelector","dotsSelector","sliderElements","dotsContainer","sliderElementWidth","clientWidth","slideIndex","slide","translateX","transform","Array","from","children","dot","index","toggle","createDot","appendChild","event","target","closest","indexOf","setInterval","activeCategorySelector","btnLoadSelector","shownBooks","btnLoad","loadMore","activeCategory","currentIndex","changeCategory","renderContainer","category","parentNode"],"sourceRoot":""}